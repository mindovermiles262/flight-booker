<div class="section">
  <%= form_for setup_booking(@booking), html: { class: 'columns' } do |b| %>
    <% params[:passengers].to_i.times do |n| %>
      <%= b.fields_for :passenger, html: { class: 'column' } do |p| %>
        <div class="bg-translucent column has-margins">
          <%= label_tag(:name, "Passenger #{n + 1} Name", class: 'label') %>
          <%= p.text_field :name, class: 'input', requred: true %>
          <%= label_tag(:email, "Email Address", class: 'label') %>
          <%= p.text_field :email, class: 'input', required: true %>
        </div>
      <% end %>
    <% end %>
</div>
  <div class="column has-text-centered">
    <%= hidden_field_tag :passengers, params[:passengers]  %>
    <%= b.hidden_field "flight_id", value: @flight.id %>
    <%= b.submit "Book Flight", type: 'submit', class: 'button is-primary is-large' %>
  </div>
  <% end %>